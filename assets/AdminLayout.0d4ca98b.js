import{b2 as z,u as la,T as ta,s as sa,r as g,S as D,j as Q,w as oa,b3 as na,k as c,U as p,p as l,b4 as ra,n as a,b5 as ia,v as u,b6 as ua,t as e,as as da,b1 as h,av as H,aR as k,V as t,Z as r,m as $,aN as q,F as C,W as ca,b7 as ma,aO as fa,b8 as M,b9 as va,aT as _a,aP as I,aQ as pa,aK as R,b0 as ba,aw as V,au as y,y as ga,ba as ha,bb as ka,aM as ya,a1 as x,z as B,R as N,bc as E,bd as wa}from"./index.650ea247.js";import{Q as Qa}from"./QFile.7552fc1a.js";import"./QChip.8372156a.js";const $a=e("img",{src:M,style:{width:"300px"}},null,-1),qa={class:"btn q-gutter-sm q-px-md"},Ca={class:"row justify-center"},Va={class:"col-3 q-pr-lg"},La={href:"#"},Aa={class:"q-py-md"},Fa={class:"col-2 q-pr-lg"},ja={class:"q-my-md"},Sa={class:"col-2 q-pr-lg"},Ta={class:"q-my-md"},Ua={class:"col-2 q-pr-lg"},za={class:"q-my-md"},Da={class:"col-2 q-pr-lg"},Ha={class:"q-my-md"},Ia={class:"col-12 text-center text-grey q-pt-md"},Ra=e("div",null,null,-1),xa={id:"avatar"},Ba=["src"],Na={class:"text-weight-bold"},Za={__name:"AdminLayout",setup(Ea){const L=z(),A=la();ta();const{logout:F,getUser:P}=A,{name:W,account:K,isLogin:Y,isAdmin:Ma,isHost:Z,isHelper:Pa,avatar:G,beamAvatar:J,lang:i}=sa(A),j=g(null),{t:S}=D(),{locale:d}=D({useScope:"global"}),m=Q([{value:"en-US",label:"English"},{value:"zh-TW",label:"\u7E41\u9AD4\u4E2D\u6587"}]);d.value=i.value||z().lang.getLocale(),i.value=d.value;const w=Q({avatar:[]});let T=g("");T=new Date().getFullYear();const X=Q([{title:"my_info",icon:"mdi-face-man",to:"/admin",isHost:!0},{title:"application_status",icon:"mdi-list-status",to:"/admin/application_status",isHost:!0},{title:"manage_jobs",icon:"mdi-note-plus",to:"/admin/jobs",isHost:Z.value}]),b=g(!0),O=g(X),U=()=>{b.value=!b.value};oa(()=>d.value,()=>{i.value=d.value});const aa=()=>{j.value.pickFiles()},ea=async s=>{L.loading.show({delay:400});try{w.avatar=s;const o=new FormData;for(const f in w)f==="avatar"&&o.append(f,w[f]);console.log("ok"),await ya.patch("/users/avatar",o),x.fire({icon:"success",title:"\u6210\u529F",text:"\u65B0\u589E\u6210\u529F"}),P()}catch(o){console.log(o),x.fire({icon:"error",title:"\u5931\u6557",text:o.isAxiosError&&o.response.data?o.response.data.message:"\u767C\u751F\u932F\u8AA4"})}L.loading.hide()};return(s,o)=>{const f=na("router-view");return c(),p(ra,{view:"hHh Lpr lff",id:"admin_layout"},{default:l(()=>[a(ma,{elevated:"",class:"bg-white text-white"},{default:l(()=>[a(ia,null,{default:l(()=>[a(u,{class:"lt-lg",flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu",color:"dark",onClick:U}),a(ua,null,{default:l(()=>[a(u,{to:"/",flat:"",style:{width:"200px"}},{default:l(()=>[$a]),_:1})]),_:1}),e("div",qa,[a(u,{class:"gt-md",icon:"translate",flat:"",color:"dark",style:{"min-width":"30px"}},{default:l(()=>[a(da,{anchor:"bottom middle",self:"top middle"},{default:l(()=>[a(h,{style:{"min-width":"100px"}},{default:l(()=>[a(H,{header:""},{default:l(()=>[k(t(r(S)("translate")),1)]),_:1}),(c(!0),$(C,null,q(m,(n,v)=>B((c(),p(V,{clickable:"",key:n.value,value:n.value,modelValue:r(i),"onUpdate:modelValue":o[0]||(o[0]=_=>E(i)?i.value=_:null),onClick:_=>d.value=m[v].value,active:r(d)===m[v].value},{default:l(()=>[a(y,null,{default:l(()=>[k(t(n.label),1)]),_:2},1024)]),_:2},1032,["value","modelValue","onClick","active"])),[[N]])),128))]),_:1})]),_:1})]),_:1}),r(Y)?(c(),p(u,{key:0,class:"gt-md",icon:"fa-solid fa-right-from-bracket",flat:"",color:"dark",onClick:r(F)},null,8,["onClick"])):ca("",!0)])]),_:1})]),_:1}),a(va,{class:"footer bg-white text-dark container q-mx-auto",bordered:""},{default:l(()=>[e("div",Ca,[e("div",Va,[e("a",La,[a(fa,{class:"footer_logo",src:M,"spinner-color":"white"})]),e("div",Aa,[a(u,{flat:"",round:"",color:"dark",icon:"fa-brands fa-facebook-f",size:".7rem"}),a(u,{flat:"",round:"",color:"dark",icon:"fa-brands fa-twitter",size:".7rem"}),a(u,{flat:"",round:"",color:"dark",icon:"fa-brands fa-instagram",size:".7rem"})])]),e("div",Fa,[e("h6",ja,t(s.$t("find_jobs")),1),e("p",null,t(s.$t("find_jobs")),1),e("p",null,t(s.$t("hot_jobs")),1),e("p",null,t(s.$t("latest_jobs")),1)]),e("div",Sa,[e("h6",Ta,t(s.$t("about_work_exchange")),1),e("p",null,t(s.$t("about_us")),1),e("p",null,t(s.$t("faqs")),1)]),e("div",Ua,[e("h6",za,t(s.$t("member")),1),e("p",null,t(s.$t("manage_profile")),1),e("p",null,t(s.$t("check_application_status")),1),e("p",null,t(s.$t("post_jobs")),1)]),e("div",Da,[e("h6",Ha,t(s.$t("support")),1),e("p",null,t(s.$t("terms_of_service")),1),e("p",null,t(s.$t("privacy_policy")),1),e("p",null,t(s.$t("contact_us")),1)]),e("div",Ia,t(s.$t("copyright")+" \xA9"+r(T)+" Workweee\u6211\u8036. All rights reserved."),1)]),Ra]),_:1}),a(ha,{modelValue:b.value,"onUpdate:modelValue":o[3]||(o[3]=n=>b.value=n)},{default:l(()=>[a(u,{class:"lt-lg",flat:"",icon:"fa-solid fa-xmark","aria-label":"Menu",color:"dark",onClick:U}),a(_a,{flat:"",class:"text-center q-py-lg"},{default:l(()=>[a(I,null,{default:l(()=>[e("div",xa,[a(Qa,{modelValue:s.myAvatar,"onUpdate:modelValue":[o[1]||(o[1]=n=>s.myAvatar=n),ea],label:"Pick one file",filled:"",ref_key:"avatarFile",ref:j},null,8,["modelValue"])]),a(pa,{size:"5rem"},{default:l(()=>[e("img",{src:r(G)||r(J)},null,8,Ba),a(u,{id:"camera",round:"",icon:"fa-solid fa-camera",color:"dark",size:".6rem",onClick:aa})]),_:1})]),_:1}),a(R,{inset:""}),a(I,null,{default:l(()=>[e("div",Na,t(r(W)),1),e("div",null,t(r(K)),1)]),_:1})]),_:1}),a(h,null,{default:l(()=>[(c(!0),$(C,null,q(O.value,n=>(c(),p(wa,{key:n.title,link:n},null,8,["link"]))),128))]),_:1}),a(R,{inset:""}),a(h,null,{default:l(()=>[a(ba,{class:"lt-lg","expand-separator":"",icon:"translate",label:r(S)("translate")},{default:l(()=>[a(h,{style:{"min-width":"100px"}},{default:l(()=>[(c(!0),$(C,null,q(m,(n,v)=>B((c(),p(V,{clickable:"",key:n.value,value:n.value,modelValue:r(i),"onUpdate:modelValue":o[2]||(o[2]=_=>E(i)?i.value=_:null),onClick:_=>d.value=m[v].value,active:r(d)===m[v].value},{default:l(()=>[a(y,null,{default:l(()=>[k(t(n.label),1)]),_:2},1024)]),_:2},1032,["value","modelValue","onClick","active"])),[[N]])),128))]),_:1})]),_:1},8,["label"]),a(V,{class:"lt-lg",clickable:"",tag:"a",onClick:r(F)},{default:l(()=>[a(y,{avatar:""},{default:l(()=>[a(ga,{name:"fa-solid fa-right-from-bracket"})]),_:1}),a(y,null,{default:l(()=>[a(H,null,{default:l(()=>[k(t(s.$t("logout")),1)]),_:1})]),_:1})]),_:1},8,["onClick"])]),_:1})]),_:1},8,["modelValue"]),a(ka,null,{default:l(()=>[a(f)]),_:1})]),_:1})}}};export{Za as default};
