import{Q as m,a as w}from"./QBreadcrumbs.4ab3b60e.js";import{Q as x}from"./QImg.dfc659b4.js";import{aJ as y,O as k,a as _,o as l,S as p,w as o,l as B,aK as q,_ as S,f as s,e as a,d as n,aL as f,F as g,aM as A,k as C,aN as d,T as r,aO as D,i as v,aP as J}from"./index.fa303fc3.js";import{Q as L}from"./QChip.380e3246.js";const N={class:"container q-mx-auto"},$={class:"row q-pb-md"},E={class:"row q-col-gutter-md"},F={class:"text-overline text-orange-9"},V={class:"text-h5 q-mt-sm q-mb-xs title"},z={class:"description text-caption text-grey"},M={__name:"FindJobs",setup(I){const h=y();k();const c=_([]),i=_({title:"",city:"",district:"",welfare:"accommodation"});return(async()=>{try{let t="/jobs/search?";for(const e in i)t+=e+"="+i[e]+"&";t.slice(0,-1),console.log(t);const{data:u}=await q.get(t);c.push(...u.result),c.map(e=>(e.date_from=new Date(e.date_from).toLocaleDateString(),e.date_to=new Date(e.date_to).toLocaleDateString(),e.description=e.description.replace(/<(?:.|\s)*?>/g,""),e))}catch(t){console.log(t),S.fire({icon:"error",title:"\u5931\u6557",text:t.isAxiosError&&t.response.data?t.response.data.message:"\u767C\u751F\u932F\u8AA4!"})}})(),console.log(h.query),(t,u)=>(l(),p(B,null,{default:o(()=>[s("div",N,[s("div",$,[a(w,{class:"col-12"},{default:o(()=>[a(m,{exact:"",label:t.$t("home"),to:"/"},null,8,["label"]),a(m,{exact:"",label:t.$t("find_jobs"),to:"/jobs"},null,8,["label"])]),_:1})]),s("div",E,[(l(!0),n(g,null,f(c,e=>(l(),n("div",{key:e._id,class:"col-12 col-md-6 col-lg-4"},[a(J,{class:"full-height",flat:"",bordered:""},{default:o(()=>[a(x,{src:e.photos[0],ratio:4/3},null,8,["src"]),a(A,null,{default:o(()=>[s("div",F,[a(C,{name:"pin_drop",size:"1.1rem"}),d(" "+r(e.city+" "+e.district),1)]),s("div",V,r(e.title),1),s("div",null,[(l(!0),n(g,null,f(e.welfare,(Q,b)=>(l(),p(L,{key:b,size:".8rem"},{default:o(()=>[d(r(t.$t(Q)),1)]),_:2},1024))),128)),d(" "+r(i.welfare),1)]),s("div",z,r(e.description),1)]),_:2},1024),a(D,null,{default:o(()=>[a(v,{class:"full-width",flat:"",color:"primary",label:t.$t("more"),to:"/jobs/"+e._id},null,8,["label","to"])]),_:2},1024)]),_:2},1024)]))),128))])])]),_:1}))}};export{M as default};
