import{aM as D,u as ea,$ as la,s as ta,r as h,Z as H,j as Q,w as sa,a_ as oa,k as c,a1 as p,p as l,a$ as na,n as a,b0 as ra,y as u,b1 as ia,t as e,aC as ua,aZ as b,aF as x,aS as k,x as t,a5 as r,m as $,aP as C,F as q,a2 as da,b2 as ca,v as fa,b3 as N,b4 as ma,aU as _a,aQ as z,aR as va,aL as R,aY as pa,aG as V,aE as y,C as ga,b5 as ha,b6 as ba,aO as ka,aa as T,I as B,R as E,b7 as M,b8 as ya}from"./index.ed091abd.js";import{Q as wa}from"./QFile.b55e3a60.js";const Qa=e("img",{src:N,style:{width:"300px"}},null,-1),$a={class:"btn q-gutter-sm q-px-md"},Ca={class:"row justify-center"},qa={class:"col-3 q-pr-lg"},Va={href:"#"},La={class:"q-py-md"},Fa={class:"col-2 q-pr-lg"},ja={class:"q-my-md"},Aa={class:"col-2 q-pr-lg"},Sa={class:"q-my-md"},Ia={class:"col-2 q-pr-lg"},Ua={class:"q-my-md"},Da={class:"col-2 q-pr-lg"},Ha={class:"q-my-md"},xa={class:"col-12 text-center text-grey q-pt-md"},za=e("div",null,null,-1),Ra={id:"avatar"},Ta=["src"],Ba={class:"text-weight-bold"},Ya={__name:"AdminLayout",setup(Ea){const L=D(),F=ea();la();const{logout:j,getUser:P}=F,{name:W,account:Y,isLogin:Z,isAdmin:Ma,isHost:G,isHelper:Na,avatar:J,lang:i}=ta(F),A=h(null),{t:S}=H(),{locale:d}=H({useScope:"global"}),f=Q([{value:"en-US",label:"English"},{value:"zh-TW",label:"\u7E41\u9AD4\u4E2D\u6587"}]);d.value=i.value||D().lang.getLocale(),i.value=d.value;const w=Q({avatar:[]});let I=h("");I=new Date().getFullYear();const K=Q([{title:"my_info",icon:"mdi-face-man",to:"/admin",isHost:!0},{title:"application_status",icon:"mdi-list-status",to:"/admin/application_status",isHost:!0},{title:"manage_jobs",icon:"mdi-note-plus",to:"/admin/jobs",isHost:G.value}]),g=h(!0),X=h(K),U=()=>{g.value=!g.value};sa(()=>d.value,()=>{i.value=d.value});const O=()=>{A.value.pickFiles()},aa=async s=>{L.loading.show({delay:400});try{w.avatar=s;const o=new FormData;for(const m in w)m==="avatar"&&o.append(m,w[m]);console.log("ok"),await ka.patch("/users/avatar",o),T.fire({icon:"success",title:"\u6210\u529F",text:"\u65B0\u589E\u6210\u529F"}),P()}catch(o){console.log(o),T.fire({icon:"error",title:"\u5931\u6557",text:o.isAxiosError&&o.response.data?o.response.data.message:"\u767C\u751F\u932F\u8AA4"})}L.loading.hide()};return(s,o)=>{const m=oa("router-view");return c(),p(na,{view:"hHh Lpr lff",id:"admin_layout"},{default:l(()=>[a(ca,{elevated:"",class:"bg-white text-white"},{default:l(()=>[a(ra,null,{default:l(()=>[a(u,{class:"lt-lg",flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu",color:"dark",onClick:U}),a(ia,null,{default:l(()=>[a(u,{to:"/",flat:"",style:{width:"200px"}},{default:l(()=>[Qa]),_:1})]),_:1}),e("div",$a,[a(u,{class:"gt-md",icon:"translate",flat:"",color:"dark",style:{"min-width":"30px"}},{default:l(()=>[a(ua,{anchor:"bottom middle",self:"top middle"},{default:l(()=>[a(b,{style:{"min-width":"100px"}},{default:l(()=>[a(x,{header:""},{default:l(()=>[k(t(r(S)("translate")),1)]),_:1}),(c(!0),$(q,null,C(f,(n,_)=>B((c(),p(V,{clickable:"",key:n.value,value:n.value,modelValue:r(i),"onUpdate:modelValue":o[0]||(o[0]=v=>M(i)?i.value=v:null),onClick:v=>d.value=f[_].value,active:r(d)===f[_].value},{default:l(()=>[a(y,null,{default:l(()=>[k(t(n.label),1)]),_:2},1024)]),_:2},1032,["value","modelValue","onClick","active"])),[[E]])),128))]),_:1})]),_:1})]),_:1}),r(Z)?(c(),p(u,{key:0,class:"gt-md",icon:"fa-solid fa-right-from-bracket",flat:"",color:"dark",onClick:r(j)},null,8,["onClick"])):da("",!0)])]),_:1})]),_:1}),a(ma,{class:"footer bg-white text-dark container q-mx-auto",bordered:""},{default:l(()=>[e("div",Ca,[e("div",qa,[e("a",Va,[a(fa,{class:"footer_logo",src:N,"spinner-color":"white"})]),e("div",La,[a(u,{flat:"",round:"",color:"dark",icon:"fa-brands fa-facebook-f",size:".7rem"}),a(u,{flat:"",round:"",color:"dark",icon:"fa-brands fa-twitter",size:".7rem"}),a(u,{flat:"",round:"",color:"dark",icon:"fa-brands fa-instagram",size:".7rem"})])]),e("div",Fa,[e("h6",ja,t(s.$t("find_jobs")),1),e("p",null,t(s.$t("find_jobs")),1),e("p",null,t(s.$t("hot_jobs")),1),e("p",null,t(s.$t("latest_jobs")),1)]),e("div",Aa,[e("h6",Sa,t(s.$t("about_work_exchange")),1),e("p",null,t(s.$t("about_us")),1),e("p",null,t(s.$t("faqs")),1)]),e("div",Ia,[e("h6",Ua,t(s.$t("member")),1),e("p",null,t(s.$t("manage_profile")),1),e("p",null,t(s.$t("check_application_status")),1),e("p",null,t(s.$t("post_jobs")),1)]),e("div",Da,[e("h6",Ha,t(s.$t("support")),1),e("p",null,t(s.$t("terms_of_service")),1),e("p",null,t(s.$t("privacy_policy")),1),e("p",null,t(s.$t("contact_us")),1)]),e("div",xa,t(s.$t("copyright")+" \xA9"+r(I)+" Workweee\u6211\u8036. All rights reserved."),1)]),za]),_:1}),a(ha,{modelValue:g.value,"onUpdate:modelValue":o[3]||(o[3]=n=>g.value=n)},{default:l(()=>[a(u,{class:"lt-lg",flat:"",icon:"fa-solid fa-xmark","aria-label":"Menu",color:"dark",onClick:U}),a(_a,{flat:"",class:"text-center q-py-lg"},{default:l(()=>[a(z,null,{default:l(()=>[e("div",Ra,[a(wa,{modelValue:s.myAvatar,"onUpdate:modelValue":[o[1]||(o[1]=n=>s.myAvatar=n),aa],label:"Pick one file",filled:"",ref_key:"avatarFile",ref:A},null,8,["modelValue"])]),a(va,{size:"5rem"},{default:l(()=>[e("img",{src:r(J)},null,8,Ta),a(u,{id:"camera",round:"",icon:"fa-solid fa-camera",color:"dark",size:".6rem",onClick:O})]),_:1})]),_:1}),a(R,{inset:""}),a(z,null,{default:l(()=>[e("div",Ba,t(r(W)),1),e("div",null,t(r(Y)),1)]),_:1})]),_:1}),a(b,null,{default:l(()=>[(c(!0),$(q,null,C(X.value,n=>(c(),p(ya,{key:n.title,link:n},null,8,["link"]))),128))]),_:1}),a(R,{inset:""}),a(b,null,{default:l(()=>[a(pa,{class:"lt-lg","expand-separator":"",icon:"translate",label:r(S)("translate")},{default:l(()=>[a(b,{style:{"min-width":"100px"}},{default:l(()=>[(c(!0),$(q,null,C(f,(n,_)=>B((c(),p(V,{clickable:"",key:n.value,value:n.value,modelValue:r(i),"onUpdate:modelValue":o[2]||(o[2]=v=>M(i)?i.value=v:null),onClick:v=>d.value=f[_].value,active:r(d)===f[_].value},{default:l(()=>[a(y,null,{default:l(()=>[k(t(n.label),1)]),_:2},1024)]),_:2},1032,["value","modelValue","onClick","active"])),[[E]])),128))]),_:1})]),_:1},8,["label"]),a(V,{class:"lt-lg",clickable:"",tag:"a",onClick:r(j)},{default:l(()=>[a(y,{avatar:""},{default:l(()=>[a(ga,{name:"fa-solid fa-right-from-bracket"})]),_:1}),a(y,null,{default:l(()=>[a(x,null,{default:l(()=>[k(t(s.$t("logout")),1)]),_:1})]),_:1})]),_:1},8,["onClick"])]),_:1})]),_:1},8,["modelValue"]),a(ba,null,{default:l(()=>[a(m)]),_:1})]),_:1})}}};export{Ya as default};
