import{Z as $,u as q,r as n,j as p,B as m,k,a1 as S,p as f,Q as B,t as a,x as d,n as o,a3 as g,a4 as z,a5 as y,y as _,a7 as U,aL as x}from"./index.78d98e1a.js";import{Q as F}from"./QBtnToggle.6dfe78f8.js";import{Q as Z}from"./QForm.8b241629.js";const A={class:"flex flex-center column q-pt-xl"},I={class:"q-pa-md",style:{"min-width":"300px"}},L={class:"q-pb-lg"},N={class:"q-my-sm text-center"},M={__name:"LoginPage",setup(P){const{t:r}=$(),b=q(),h=n(null),w=n(null),u=n(!1),c=n(!1),l=p({account:"",password:"",role:""}),V=m(()=>[{label:r("role_host"),value:"role_host"},{label:r("role_helper"),value:"role_helper"}]),i=p({account:[e=>!!e||r("required"),e=>e.length>=4&&e.length<=20||"\u5E33\u865F\u9577\u5EA6\u70BA 4 \u5230 20 \u500B\u5B57",e=>/^[a-zA-Z0-9]+$/.test(e)||"\u5E33\u865F\u53EA\u80FD\u7531\u82F1\u6578\u5B57\u7D44\u6210"],password:[e=>!!e||r("required"),e=>e.length>=4&&e.length<=20||"\u5BC6\u78BC\u9577\u5EA6\u70BA 4 \u5230 20 \u500B\u5B57",e=>/^[a-zA-Z0-9]+$/.test(e)||"\u5BC6\u78BC\u53EA\u80FD\u7531\u82F1\u6578\u5B57\u7D44\u6210"],role:[e=>!!e||r("required")]}),v=m(()=>c.value&&!l.role?{color:"red"}:{color:"black"}),Q=()=>{if(!l.role){c.value=!0;return}u.value=!0,l.role==="role_host"?l.role=1:l.role==="role_host"?l.role=2:l.role=null,b.login(l),u.value=!1};return(e,t)=>(k(),S(B,null,{default:f(()=>[a("div",A,[a("h3",null,d(e.$t("login")),1),a("div",I,[o(Z,{ref_key:"loginForm",ref:h,autocorrect:"off",autocapitalize:"off",autocomplete:"off",spellcheck:"false",onSubmit:U(Q,["prevent"])},{default:f(()=>[o(g,{outlined:"",modelValue:l.account,"onUpdate:modelValue":t[0]||(t[0]=s=>l.account=s),label:e.$t("account")+"*",rules:i.account},null,8,["modelValue","label","rules"]),o(g,{outlined:"",type:"password",modelValue:l.password,"onUpdate:modelValue":t[1]||(t[1]=s=>l.password=s),label:e.$t("password")+"*","lazy-rules":"",rules:i.password},null,8,["modelValue","label","rules"]),a("p",{style:z(y(v))},d(e.$t("login_as")+"*"),5),o(F,{modelValue:l.role,"onUpdate:modelValue":t[2]||(t[2]=s=>l.role=s),"toggle-color":"primary",options:y(V),spread:"",rules:i.role,ref_key:"role",ref:w,style:{"margin-bottom":"20px"}},null,8,["modelValue","options","rules"]),o(_,{class:"full-width",color:"primary",label:e.$t("login"),type:"submit",loading:u.value},null,8,["label","loading"])]),_:1},8,["onSubmit"]),o(x,{class:"q-my-lg"}),a("div",L,[a("p",N,d(e.$t("not_yet_registered")),1),o(_,{class:"full-width",label:e.$t("create_account"),color:"primary",outline:"","no-caps":"",to:"/register"},null,8,["label"])])])])]),_:1}))}};export{M as default};
