import{aM as I,u as la,$ as ta,s as sa,r as h,Z as U,j as Q,w as oa,a$ as na,k as c,a1 as v,p as l,b0 as ra,n as a,b1 as ia,y as i,b2 as ua,t as e,aC as da,a_ as b,aF as D,aS as k,x as t,a5 as r,m as $,aP as C,F as q,a2 as ca,b3 as ma,v as fa,b4 as N,b5 as _a,aU as pa,aQ as H,aR as va,aL as z,aZ as ga,aG as x,aE as y,C as ha,b6 as ba,q as ka,b7 as ya,aO as wa,aa as E,I as R,R as B,b8 as M,b9 as Qa}from"./index.c51e993a.js";import{Q as $a}from"./QFile.73f1b0e3.js";const Ca=e("img",{src:N,style:{width:"300px"}},null,-1),qa={class:"btn q-gutter-sm q-px-md"},xa={class:"container q-mx-auto"},Va={class:"row justify-center"},La={class:"col-12 col-md-4 q-px-lg"},Fa={href:"#"},Sa={class:"q-py-md"},Ta={class:"col-6 col-md-4 col-lg-2 q-px-lg"},ja={class:"q-my-md"},Aa={class:"col-6 col-md-4 col-lg-2 q-px-lg"},Ia={class:"q-my-md"},Ua={class:"col-6 col-md-8 col-lg-2 q-px-lg member"},Da={class:"q-my-md"},Ha={class:"col-6 col-md-4 col-lg-2 q-px-lg"},za={class:"q-my-md"},Ea={class:"col-12 text-center text-grey q-pt-xl"},Ra={id:"avatar"},Ba=["src"],Ma={class:"text-weight-bold"},Ya={__name:"AdminLayout",setup(Na){const V=I(),L=la();ta();const{logout:F,getUser:P}=L,{name:W,account:Z,isLogin:G,isAdmin:Pa,isHost:Y,isHelper:Wa,avatar:J,lang:u}=sa(L),S=h(null),{t:T}=U(),{locale:d}=U({useScope:"global"}),m=Q([{value:"en-US",label:"English"},{value:"zh-TW",label:"\u7E41\u9AD4\u4E2D\u6587"}]);d.value=u.value||I().lang.getLocale(),u.value=d.value;const w=Q({avatar:[]});let j=h("");j=new Date().getFullYear();const K=Q([{title:"my_info",icon:"mdi-face-man",to:"/admin",isHost:!0},{title:"application_status",icon:"mdi-list-status",to:"/admin/application_status",isHost:!0},{title:"manage_jobs",icon:"mdi-note-plus",to:"/admin/jobs",isHost:Y.value}]),g=h(!0),X=h(K),A=()=>{g.value=!g.value};oa(()=>d.value,()=>{u.value=d.value});const O=()=>{S.value.pickFiles()},aa=async s=>{V.loading.show({delay:400});try{w.avatar=s;const o=new FormData;for(const f in w)f==="avatar"&&o.append(f,w[f]);console.log("ok"),await wa.patch("/users/avatar",o),E.fire({icon:"success",title:"\u6210\u529F",text:"\u65B0\u589E\u6210\u529F"}),P()}catch(o){console.log(o),E.fire({icon:"error",title:"\u5931\u6557",text:o.isAxiosError&&o.response.data?o.response.data.message:"\u767C\u751F\u932F\u8AA4"})}V.loading.hide()},ea=()=>{document.body.scrollTop=0,document.documentElement.scrollTop=0};return(s,o)=>{const f=na("router-view");return c(),v(ra,{view:"hHh Lpr lff",id:"admin_layout"},{default:l(()=>[a(ma,{elevated:"",class:"bg-white text-white"},{default:l(()=>[a(ia,null,{default:l(()=>[a(i,{class:"lt-lg",flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu",color:"dark",onClick:A}),a(ua,null,{default:l(()=>[a(i,{to:"/",flat:"",style:{width:"200px"}},{default:l(()=>[Ca]),_:1})]),_:1}),e("div",qa,[a(i,{class:"gt-md",icon:"translate",flat:"",color:"dark",style:{"min-width":"30px"}},{default:l(()=>[a(da,{anchor:"bottom middle",self:"top middle"},{default:l(()=>[a(b,{style:{"min-width":"100px"}},{default:l(()=>[a(D,{header:""},{default:l(()=>[k(t(r(T)("translate")),1)]),_:1}),(c(!0),$(q,null,C(m,(n,_)=>R((c(),v(x,{clickable:"",key:n.value,value:n.value,modelValue:r(u),"onUpdate:modelValue":o[0]||(o[0]=p=>M(u)?u.value=p:null),onClick:p=>d.value=m[_].value,active:r(d)===m[_].value},{default:l(()=>[a(y,null,{default:l(()=>[k(t(n.label),1)]),_:2},1024)]),_:2},1032,["value","modelValue","onClick","active"])),[[B]])),128))]),_:1})]),_:1})]),_:1}),r(G)?(c(),v(i,{key:0,class:"gt-md",icon:"fa-solid fa-right-from-bracket",flat:"",color:"dark",onClick:r(F)},null,8,["onClick"])):ca("",!0)])]),_:1})]),_:1}),a(_a,{class:"footer bg-white text-dark q-mx-auto",bordered:""},{default:l(()=>[e("div",xa,[e("div",Va,[e("div",La,[e("a",Fa,[a(fa,{class:"footer_logo",src:N,"spinner-color":"white"})]),e("div",Sa,[a(i,{flat:"",round:"",color:"dark",icon:"fa-brands fa-facebook-f",size:".7rem"}),a(i,{flat:"",round:"",color:"dark",icon:"fa-brands fa-twitter",size:".7rem"}),a(i,{flat:"",round:"",color:"dark",icon:"fa-brands fa-instagram",size:".7rem"})])]),e("div",Ta,[e("h6",ja,t(s.$t("find_jobs")),1),e("p",null,t(s.$t("all_jobs")),1),e("p",null,t(s.$t("hot_jobs")),1),e("p",null,t(s.$t("latest_jobs")),1)]),e("div",Aa,[e("h6",Ia,t(s.$t("about_work_exchange")),1),e("p",null,t(s.$t("about_us")),1),e("p",null,t(s.$t("faqs")),1)]),e("div",Ua,[e("h6",Da,t(s.$t("member")),1),e("p",null,t(s.$t("manage_profile")),1),e("p",null,t(s.$t("check_application_status")),1),e("p",null,t(s.$t("post_jobs")),1)]),e("div",Ha,[e("h6",za,t(s.$t("support")),1),e("p",null,t(s.$t("terms_of_service")),1),e("p",null,t(s.$t("privacy_policy")),1),e("p",null,t(s.$t("contact_us")),1)]),e("div",Ea,t(s.$t("copyright")+" \xA9"+r(j)+" Workweee\u6211\u8036. All rights reserved."),1)])])]),_:1}),a(ba,{modelValue:g.value,"onUpdate:modelValue":o[3]||(o[3]=n=>g.value=n)},{default:l(()=>[a(i,{class:"lt-lg",flat:"",icon:"fa-solid fa-xmark","aria-label":"Menu",color:"dark",onClick:A}),a(pa,{flat:"",class:"text-center q-py-lg"},{default:l(()=>[a(H,null,{default:l(()=>[e("div",Ra,[a($a,{modelValue:s.myAvatar,"onUpdate:modelValue":[o[1]||(o[1]=n=>s.myAvatar=n),aa],label:"Pick one file",filled:"",ref_key:"avatarFile",ref:S},null,8,["modelValue"])]),a(va,{size:"5rem"},{default:l(()=>[e("img",{src:r(J)},null,8,Ba),a(i,{id:"camera",round:"",icon:"fa-solid fa-camera",color:"dark",size:".6rem",onClick:O})]),_:1})]),_:1}),a(z,{inset:""}),a(H,null,{default:l(()=>[e("div",Ma,t(r(W)),1),e("div",null,t(r(Z)),1)]),_:1})]),_:1}),a(b,null,{default:l(()=>[(c(!0),$(q,null,C(X.value,n=>(c(),v(Qa,{key:n.title,link:n},null,8,["link"]))),128))]),_:1}),a(z,{inset:""}),a(b,null,{default:l(()=>[a(ga,{class:"lt-lg text-h6","expand-separator":"",icon:"translate",label:r(T)("translate")},{default:l(()=>[a(b,{style:{"min-width":"100px"}},{default:l(()=>[(c(!0),$(q,null,C(m,(n,_)=>R((c(),v(x,{clickable:"",key:n.value,value:n.value,modelValue:r(u),"onUpdate:modelValue":o[2]||(o[2]=p=>M(u)?u.value=p:null),onClick:p=>d.value=m[_].value,active:r(d)===m[_].value},{default:l(()=>[a(y,{class:"text-h6"},{default:l(()=>[k(t(n.label),1)]),_:2},1024)]),_:2},1032,["value","modelValue","onClick","active"])),[[B]])),128))]),_:1})]),_:1},8,["label"]),a(x,{class:"lt-lg",clickable:"",tag:"a",onClick:r(F)},{default:l(()=>[a(y,{avatar:""},{default:l(()=>[a(ha,{name:"fa-solid fa-right-from-bracket"})]),_:1}),a(y,null,{default:l(()=>[a(D,{class:"text-h6"},{default:l(()=>[k(t(s.$t("logout")),1)]),_:1})]),_:1})]),_:1},8,["onClick"])]),_:1})]),_:1},8,["modelValue"]),a(ya,null,{default:l(()=>[a(f),a(ka,{position:"bottom-right",offset:[18,18]},{default:l(()=>[a(i,{round:"",color:"primary",icon:"arrow_forward",class:"rotate-270",onClick:ea})]),_:1})]),_:1})]),_:1})}}};export{Ya as default};
